## 동시성 이슈를 해결하기 위해 적합한 DB Lock 적용
- 본인의 애플리케이션 내에서 발생할 수 있는 동시성 이슈를 식별

### 쿠폰 발급 시스템에 DB Lock 적용 방안 보고서

#### `문제 식별`
- 다수의 유저가 동시 쿠폰 발급 요청 시 남은 수량 < 0 발생 가능

#### `분석`
- DB Lock 미적용 상태
- 트랜잭션 충돌 시 제어 불가
- 현재 발급해주는 기능만 존재
- [현재 로직]
```
1. 쿠폰을 조회
2. 유저 존재 확인
3. 유저에게 발급
4. 저장
```

#### `해결`
- DB Lock(낙관적 락)을 활용한 동시성 제어 도입

#### `대안`
```
1. 쿠폰 조회
2. 유저 존재 확인 
3. 발급할 수 있는 수량 확인
4. 유저에게 발급
5.'new' 수량 차감 및 저장(저장 시점에 @Version 으로 충돌 검증)
```
